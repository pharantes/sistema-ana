"use client";
import { useState } from 'react';
import styled from 'styled-components';
import dynamic from 'next/dynamic';

// Dynamic import to avoid SSR issues
const ReactMarkdown = dynamic(() => import('react-markdown'), { ssr: false });

const Container = styled.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space-lg);
  min-height: 100vh;
`;

const Header = styled.div`
  margin-bottom: var(--space-lg);
  padding-bottom: var(--space-md);
  border-bottom: 2px solid #e5e7eb;
`;

const Title = styled.h1`
  font-size: 2.5rem;
  font-weight: 700;
  color: #111827;
  margin-bottom: var(--space-sm);
`;

const Subtitle = styled.p`
  font-size: 1.125rem;
  color: #6b7280;
`;

const SidebarWrapper = styled.div`
  flex-shrink: 0;
  width: 250px;
  
  @media (max-width: 768px) {
    width: 100%;
    margin-bottom: var(--space-md);
  }
`;

const Sidebar = styled.nav`
  position: fixed;
  width: 250px;
  max-height: calc(100vh - 40px);
  overflow-y: auto;
  background: #f9fafb;
  border: 1px solid #e5e7eb;
  border-radius: var(--radius-md);
  padding: var(--space-md);
  
  @media (max-width: 768px) {
    position: static;
    width: 100%;
    max-height: none;
    overflow-y: visible;
  }
`;

const SidebarTitle = styled.h3`
  font-size: 1rem;
  font-weight: 600;
  color: #111827;
  margin-bottom: var(--space-sm);
`;

const SidebarLink = styled.a`
  display: block;
  padding: var(--space-xs) var(--space-sm);
  color: ${props => props.$active ? '#3b82f6' : '#6b7280'};
  text-decoration: none;
  border-radius: var(--radius-sm);
  font-size: 0.875rem;
  transition: all 0.2s;
  background: ${props => props.$active ? '#eff6ff' : 'transparent'};
  font-weight: ${props => props.$active ? '600' : '400'};
  
  &:hover {
    background: #eff6ff;
    color: #3b82f6;
  }
`;

const ContentWrapper = styled.div`
  display: flex;
  gap: var(--space-lg);
  align-items: flex-start;
  
  @media (max-width: 768px) {
    flex-direction: column;
  }
`;

const Content = styled.div`
  flex: 1;
  min-width: 0;
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: var(--radius-md);
  padding: var(--space-lg);
  
  h1 {
    font-size: 2rem;
    font-weight: 700;
    color: #111827;
    margin-top: var(--space-xl);
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: 2px solid #e5e7eb;
    
    &:first-child {
      margin-top: 0;
    }
  }
  
  h2 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #374151;
    margin-top: var(--space-lg);
    margin-bottom: var(--space-md);
  }
  
  h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #4b5563;
    margin-top: var(--space-md);
    margin-bottom: var(--space-sm);
  }
  
  p {
    color: #374151;
    line-height: 1.75;
    margin-bottom: var(--space-md);
  }
  
  ul, ol {
    margin-bottom: var(--space-md);
    padding-left: var(--space-lg);
  }
  
  li {
    color: #374151;
    line-height: 1.75;
    margin-bottom: var(--space-xs);
  }
  
  code {
    background: #f3f4f6;
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-size: 0.875em;
    color: #dc2626;
  }
  
  pre {
    background: #1f2937;
    color: #f9fafb;
    padding: var(--space-md);
    border-radius: var(--radius-md);
    overflow-x: auto;
    margin-bottom: var(--space-md);
    
    code {
      background: transparent;
      color: inherit;
      padding: 0;
    }
  }
  
  blockquote {
    border-left: 4px solid #3b82f6;
    padding-left: var(--space-md);
    margin: var(--space-md) 0;
    color: #6b7280;
    font-style: italic;
  }
  
  table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: var(--space-md);
  }
  
  th, td {
    border: 1px solid #e5e7eb;
    padding: var(--space-sm);
    text-align: left;
  }
  
  th {
    background: #f9fafb;
    font-weight: 600;
  }
  
  img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    margin: var(--space-md) 0;
  }
  
  strong {
    font-weight: 600;
    color: #111827;
  }
  
  em {
    font-style: italic;
  }
  
  hr {
    border: none;
    border-top: 1px solid #e5e7eb;
    margin: var(--space-lg) 0;
  }
`;

const DOCUMENTATION = `
# Documenta√ß√£o do Sistema Ana

Guia completo de administra√ß√£o e uso do sistema.

---

# üìä Dashboard

O Dashboard √© a p√°gina inicial do sistema, onde voc√™ visualiza um resumo geral das opera√ß√µes.

## Como Usar

1. **Acesse o Dashboard** clicando no logo "Sistema Ana" ou navegando para a p√°gina inicial
2. Use os **filtros** no topo para personalizar a visualiza√ß√£o:
   - **Cliente**: Filtre dados de um cliente espec√≠fico
   - **Data Inicial**: Defina a data de in√≠cio do per√≠odo
   - **Data Final**: Defina a data de t√©rmino do per√≠odo
3. Use os **Atalhos** para per√≠odos comuns:
   - **Hoje**: Apenas o dia atual
   - **Esta Semana**: √öltimos 7 dias
   - **Este M√™s**: M√™s atual completo
   - **Este Ano**: Ano atual completo

## KPIs Principais

O Dashboard exibe 6 indicadores principais:

### Clientes
- N√∫mero total de clientes √∫nicos no per√≠odo selecionado
- Baseado nas a√ß√µes e contas a receber

### Colaboradores
- N√∫mero total de colaboradores cadastrados no sistema
- Conta todos os colaboradores ativos

### A√ß√µes
- Total de a√ß√µes/projetos criadas no per√≠odo
- Inclui todas as a√ß√µes vinculadas aos filtros

### Lucro Previsto
- **F√≥rmula**: Receita Prevista - Custos Previstos
- Mostra o lucro esperado antes do recebimento/pagamento

### Receita Prevista
- Soma de todas as contas a receber no per√≠odo
- Inclui valores de todas as parcelas previstas

### Receita Recebida
- Soma apenas das contas recebidas (status "RECEBIDO")
- Mostra quanto j√° foi efetivamente recebido

## Gr√°ficos

### Receita e Custos por M√™s
Gr√°fico de linha mostrando a evolu√ß√£o mensal de:
- **Receita Prevista** (linha azul)
- **Receita Recebida** (linha verde)
- **Custos** (linha vermelha)

### Lucro por M√™s
Gr√°fico de barras mostrando:
- **Lucro Previsto** (barras azuis)
- **Lucro Real** (barras verdes)

### Receita por Cliente
Gr√°fico de pizza mostrando a distribui√ß√£o percentual da receita entre os clientes principais.

---

# üë• Clientes

Gerenciamento completo de clientes do sistema.

## Como Visualizar

1. Acesse **"Clientes"** no menu superior
2. Visualize a lista de todos os clientes cadastrados
3. Use a **barra de busca** para encontrar clientes por nome ou e-mail
4. Use o **filtro de status** para ver apenas clientes ativos ou inativos

## Como Criar um Cliente

1. Clique no bot√£o **"+ Novo Cliente"**
2. Preencha o formul√°rio:
   - **Nome**: Nome completo do cliente (obrigat√≥rio)
   - **E-mail**: E-mail de contato (obrigat√≥rio)
   - **Telefone**: N√∫mero de telefone (opcional)
   - **Empresa**: Nome da empresa (opcional)
   - **Status**: ATIVO ou INATIVO
3. Clique em **"Salvar"**

## Como Editar um Cliente

1. Na lista de clientes, clique no nome do cliente
2. Voc√™ ser√° levado √† p√°gina de detalhes
3. Clique no bot√£o **"Editar"**
4. Modifique os campos desejados
5. Clique em **"Salvar"**

## Como Excluir um Cliente

1. Na lista de clientes, clique no √≠cone de **lixeira** (üóëÔ∏è)
2. Confirme a exclus√£o no modal
3. **‚ö†Ô∏è Aten√ß√£o**: A exclus√£o √© permanente e remover√° todos os dados relacionados

## P√°gina de Detalhes

Ao clicar em um cliente, voc√™ v√™:
- Informa√ß√µes completas do cliente
- Lista de a√ß√µes vinculadas ao cliente
- Hist√≥rico de contas a receber
- Estat√≠sticas de receita

---

# üë∑ Colaboradores

Gerenciamento de colaboradores/equipe.

## Como Visualizar

1. Acesse **"Colaboradores"** no menu superior
2. Visualize todos os colaboradores cadastrados
3. Use a **busca** para encontrar por nome ou e-mail
4. Use o **filtro de status** (ATIVO/INATIVO)

## Como Criar um Colaborador

1. Clique em **"+ Novo Colaborador"**
2. Preencha o formul√°rio:
   - **Nome**: Nome completo (obrigat√≥rio)
   - **E-mail**: E-mail (obrigat√≥rio)
   - **Telefone**: N√∫mero de contato (opcional)
   - **Cargo**: Fun√ß√£o/cargo (opcional)
   - **Status**: ATIVO ou INATIVO
3. Clique em **"Salvar"**

## Como Editar um Colaborador

1. Clique no colaborador na lista
2. Na p√°gina de detalhes, clique em **"Editar"**
3. Modifique os campos
4. Salve as altera√ß√µes

## Como Excluir um Colaborador

1. Clique no √≠cone de lixeira na lista
2. Confirme a exclus√£o
3. **‚ö†Ô∏è Aten√ß√£o**: Verifique se n√£o h√° contas a pagar vinculadas

## P√°gina de Detalhes

Mostra:
- Informa√ß√µes do colaborador
- Contas a pagar vinculadas
- Hist√≥rico de pagamentos
- Total de valores pagos

---

# üéØ A√ß√µes

Gerenciamento de a√ß√µes/projetos do sistema.

## Como Visualizar

1. Acesse **"A√ß√µes"** no menu
2. Veja todas as a√ß√µes cadastradas
3. Use os filtros:
   - **Busca por nome**
   - **Filtro por cliente**
   - **Filtro por status**
   - **Filtro por data**

## Como Criar uma A√ß√£o

1. Clique em **"+ Nova A√ß√£o"**
2. Preencha:
   - **Nome**: Nome da a√ß√£o/projeto (obrigat√≥rio)
   - **Cliente**: Selecione o cliente (obrigat√≥rio)
   - **Descri√ß√£o**: Descri√ß√£o detalhada (opcional)
   - **Data**: Data da a√ß√£o (obrigat√≥rio)
   - **Status**: Status atual (ABERTO, EM_ANDAMENTO, CONCLU√çDO)
   - **Valor**: Valor da a√ß√£o (opcional)
3. Clique em **"Salvar"**

## Como Editar uma A√ß√£o

1. Clique na a√ß√£o na lista ou no √≠cone de edi√ß√£o
2. Modifique os campos necess√°rios
3. Salve as altera√ß√µes

## Como Excluir uma A√ß√£o

1. Clique no √≠cone de lixeira
2. Confirme a exclus√£o
3. **‚ö†Ô∏è Aten√ß√£o**: Isso afetar√° contas a receber e a pagar vinculadas

## Vincular Custos

Ao criar uma a√ß√£o, voc√™ pode adicionar custos:
1. Na tela de cria√ß√£o/edi√ß√£o de a√ß√£o
2. Clique em **"Adicionar Custo"**
3. Preencha:
   - **Descri√ß√£o**: Descri√ß√£o do custo
   - **Valor**: Valor do custo
   - **Colaborador**: Quem receber√° (opcional)
   - **Vencimento**: Data de vencimento
   - **Status**: ABERTO ou PAGO
4. Custos s√£o automaticamente criados como "Contas a Pagar"

---

# üí∞ Contas a Receber

Gerenciamento de valores a receber de clientes.

## Como Visualizar

1. Acesse **"Contas a Receber"** no menu
2. Veja todas as contas (parcelas)
3. Use os filtros:
   - **Busca**: Por cliente ou descri√ß√£o
   - **Status**: ABERTO, RECEBIDO, VENCIDO, CANCELADO
   - **Per√≠odo**: Data inicial e final
   - **Cliente**: Filtro por cliente espec√≠fico

## Sistema de Parcelas

O sistema suporta pagamento parcelado:
- Cada parcela aparece como uma linha separada na tabela
- Cada parcela tem seu pr√≥prio status
- Voc√™ pode marcar parcelas individuais como recebidas

## Como Criar Conta a Receber

1. Clique em **"+ Nova Conta"**
2. Escolha o tipo:
   - **Pagamento √önico**: Apenas uma parcela
   - **Parcelado**: Dividir em m√∫ltiplas parcelas

### Pagamento √önico
1. Preencha:
   - **Cliente**: Selecione o cliente
   - **A√ß√£o**: Selecione a a√ß√£o relacionada (opcional)
   - **Valor**: Valor total
   - **Data de Vencimento**: Quando deve ser recebido
   - **Descri√ß√£o**: Descri√ß√£o do pagamento (opcional)
   - **Status**: ABERTO ou RECEBIDO
2. Clique em **"Salvar"**

### Pagamento Parcelado
1. Selecione **"Parcelado"**
2. Preencha:
   - **Cliente** e **A√ß√£o**
   - **Valor Total**: Valor que ser√° dividido
   - **N√∫mero de Parcelas**: Quantas parcelas (2-36)
   - **Data do Primeiro Vencimento**: Vencimento da 1¬™ parcela
   - **Descri√ß√£o**: Descri√ß√£o base
3. O sistema automaticamente:
   - Divide o valor igualmente
   - Cria as parcelas com vencimentos mensais
   - Numera as parcelas (1/12, 2/12, etc.)

## Como Marcar como Recebido

1. Localize a conta/parcela na lista
2. Clique no √≠cone de **check** (‚úì) ou edite a conta
3. Altere o status para **"RECEBIDO"**
4. Opcionalmente, atualize a **Data de Recebimento**
5. Salve

## Como Editar

1. Clique no √≠cone de edi√ß√£o (‚úèÔ∏è)
2. Modifique os campos
3. Para parcelas, voc√™ pode:
   - Alterar o valor individual
   - Mudar o status
   - Atualizar a data de vencimento
4. Salve as altera√ß√µes

## Como Excluir

1. Clique no √≠cone de lixeira (üóëÔ∏è)
2. Confirme a exclus√£o
3. **‚ö†Ô∏è Aten√ß√£o**: Para contas parceladas, voc√™ pode excluir parcelas individualmente

## Relat√≥rio de Conta

Voc√™ pode gerar um PDF da conta:
1. Clique no nome do cliente na lista
2. Na p√°gina de detalhes, clique em **"Gerar Relat√≥rio"**
3. O PDF ser√° gerado com todas as parcelas e status

---

# üí∏ Contas a Pagar

Gerenciamento de despesas e pagamentos a colaboradores.

## Como Visualizar

1. Acesse **"Contas a Pagar"** no menu
2. Veja todas as despesas
3. Use os filtros:
   - **Busca**: Por descri√ß√£o
   - **Status**: ABERTO, PAGO, VENCIDO
   - **Per√≠odo**: Filtro por data
   - **Colaborador**: Filtro por benefici√°rio

## Tipos de Contas a Pagar

### 1. Contas Vinculadas a A√ß√µes
- Criadas automaticamente ao adicionar custos em a√ß√µes
- Vinculadas a um projeto/a√ß√£o espec√≠fico
- Podem ser pagas individualmente

### 2. Contas Fixas Recorrentes
- Despesas que se repetem mensalmente
- Configuradas uma vez, geradas automaticamente
- Exemplos: aluguel, internet, sal√°rios

## Como Criar Conta a Pagar (Manual)

1. Clique em **"+ Nova Conta"**
2. Preencha:
   - **Descri√ß√£o**: Descri√ß√£o da despesa
   - **Valor**: Valor a pagar
   - **A√ß√£o**: Vincular a uma a√ß√£o (opcional)
   - **Colaborador**: Quem receber√° (opcional)
   - **Data de Vencimento**: Quando deve ser pago
   - **Status**: ABERTO ou PAGO
3. Clique em **"Salvar"**

## Como Criar Conta Fixa Recorrente

1. Clique em **"+ Nova Conta Fixa"**
2. Preencha:
   - **Descri√ß√£o**: Nome da despesa recorrente
   - **Valor**: Valor mensal
   - **Colaborador**: Benefici√°rio (opcional)
   - **Dia de Vencimento**: Dia do m√™s (1-31)
   - **Status**: ATIVO ou INATIVO
3. A conta ser√° criada automaticamente todo m√™s

## Como Marcar como Pago

1. Localize a conta na lista
2. Clique no √≠cone de check (‚úì)
3. Ou edite e mude o status para **"PAGO"**
4. Atualize a **Data de Pagamento** se necess√°rio
5. Salve

## Como Editar

1. Clique no √≠cone de edi√ß√£o (‚úèÔ∏è)
2. Modifique os campos necess√°rios
3. **‚ö†Ô∏è Aten√ß√£o**: Ao editar contas vinculadas a a√ß√µes, o valor da a√ß√£o ser√° atualizado
4. Salve as altera√ß√µes

## Como Excluir

1. Clique no √≠cone de lixeira (üóëÔ∏è)
2. Confirme a exclus√£o
3. Para contas fixas, voc√™ pode:
   - Desativar (para de gerar novas)
   - Excluir completamente

## Gest√£o de Contas Fixas

Para gerenciar contas fixas recorrentes:
1. Na p√°gina de Contas a Pagar
2. Clique em **"Gerenciar Contas Fixas"**
3. Veja todas as contas fixas cadastradas
4. Edite ou exclua conforme necess√°rio
5. Ative/desative contas fixas

---

# üîÑ Fluxo de Trabalho Recomendado

## 1. Configura√ß√£o Inicial

1. **Cadastre Clientes**
   - Adicione todos os clientes com quem trabalha
   - Configure status (ATIVO/INATIVO)
   - Atualize informa√ß√µes de contato

2. **Cadastre Colaboradores**
   - Adicione membros da equipe
   - Configure cargos e informa√ß√µes
   - Defina status

3. **Configure Contas Fixas**
   - Adicione despesas recorrentes
   - Configure dia de vencimento
   - Ative as contas

## 2. Novo Projeto/A√ß√£o

1. **Crie a A√ß√£o**
   - Defina nome e descri√ß√£o
   - Vincule ao cliente
   - Defina data e status

2. **Adicione Custos**
   - Adicione custos previstos
   - Vincule colaboradores
   - Defina vencimentos

3. **Crie Contas a Receber**
   - Defina valor total
   - Configure parcelamento se necess√°rio
   - Defina vencimentos

## 3. Gest√£o Di√°ria

1. **Verifique o Dashboard**
   - Analise KPIs
   - Identifique a√ß√µes necess√°rias
   - Acompanhe metas

2. **Atualize Status**
   - Marque contas recebidas
   - Marque contas pagas
   - Atualize status de a√ß√µes

3. **Analise Relat√≥rios**
   - Verifique lucro real vs previsto
   - Identifique contas vencidas
   - Acompanhe receita por cliente

## 4. Fechamento Mensal

1. **Reconcilie Contas**
   - Verifique todas as contas recebidas
   - Confirme todos os pagamentos
   - Atualize status pendentes

2. **Analise Performance**
   - Compare lucro real vs previsto
   - Analise receita por cliente
   - Identifique oportunidades

3. **Planeje Pr√≥ximo M√™s**
   - Verifique vencimentos futuros
   - Planeje a√ß√µes
   - Ajuste contas fixas se necess√°rio

---

# üí° Dicas e Boas Pr√°ticas

## Organiza√ß√£o

- ‚úÖ **Nomeie a√ß√µes claramente**: Use nomes descritivos para facilitar busca
- ‚úÖ **Mantenha clientes atualizados**: Atualize status e informa√ß√µes regularmente
- ‚úÖ **Use descri√ß√µes**: Adicione descri√ß√µes detalhadas em contas e a√ß√µes
- ‚úÖ **Configure contas fixas**: Automatize despesas recorrentes

## Financeiro

- ‚úÖ **Parcele quando necess√°rio**: Use parcelamento para facilitar recebimento
- ‚úÖ **Acompanhe vencimentos**: Fique atento a contas vencidas
- ‚úÖ **Atualize status rapidamente**: Marque como pago/recebido assim que ocorrer
- ‚úÖ **Use filtros do dashboard**: Acompanhe per√≠odos espec√≠ficos

## Efici√™ncia

- ‚úÖ **Use busca**: Encontre registros rapidamente pela busca
- ‚úÖ **Use atalhos de data**: Aproveite os atalhos (Hoje, Esta Semana, etc.)
- ‚úÖ **Gere relat√≥rios**: Use relat√≥rios PDF para compartilhar com clientes
- ‚úÖ **Filtre por cliente**: Foque em clientes espec√≠ficos quando necess√°rio

## Manuten√ß√£o

- ‚úÖ **Revise contas fixas mensalmente**: Verifique se ainda s√£o necess√°rias
- ‚úÖ **Limpe contas antigas**: Exclua ou marque como canceladas contas n√£o mais relevantes
- ‚úÖ **Atualize colaboradores**: Mantenha lista de colaboradores atualizada
- ‚úÖ **Fa√ßa backup**: Exporte dados importantes regularmente

---

# ‚ùì Perguntas Frequentes

## Como alterar o status de m√∫ltiplas contas de uma vez?
Atualmente, voc√™ precisa editar cada conta individualmente. Para agilizar, use filtros para isolar as contas desejadas.

## Posso editar uma parcela espec√≠fica sem afetar as outras?
Sim! Cada parcela √© independente e pode ser editada, marcada como recebida ou exclu√≠da separadamente.

## O que acontece se eu excluir um cliente com contas vinculadas?
O sistema impedir√° a exclus√£o se houver contas ativas. Voc√™ deve primeiro cancelar/excluir as contas relacionadas.

## Como rastreio contas vencidas?
Use o filtro de status "VENCIDO" em Contas a Receber ou Contas a Pagar. O sistema marca automaticamente contas vencidas.

## Posso ter a√ß√µes sem cliente vinculado?
N√£o, toda a√ß√£o deve ter um cliente associado. Se necess√°rio, crie um cliente gen√©rico (ex: "Interno").

## Como funciona o c√°lculo de lucro?
- **Lucro Previsto** = Receita Prevista - Custos Previstos
- **Lucro Real** = Receita Recebida - Custos Pagos

## Posso alterar o n√∫mero de parcelas ap√≥s criar?
N√£o diretamente. Voc√™ precisaria excluir e recriar, ou adicionar/remover parcelas manualmente.

## Contas fixas s√£o criadas automaticamente?
Sim! Contas fixas ativas geram automaticamente uma nova conta a pagar todo m√™s no dia especificado.

---

# üîê Seguran√ßa e Permiss√µes

## Login e Autentica√ß√£o

- Todos os usu√°rios devem fazer login
- Sess√µes expiram ap√≥s 30 dias de inatividade
- Senhas devem ser fortes e √∫nicas

## Permiss√µes

Atualmente, todos os usu√°rios logados t√™m acesso completo. Em vers√µes futuras, haver√° n√≠veis de permiss√£o:
- **Admin**: Acesso total
- **Gerente**: Visualiza√ß√£o e edi√ß√£o
- **Usu√°rio**: Apenas visualiza√ß√£o

## Prote√ß√£o de Dados

- Todos os dados s√£o armazenados com seguran√ßa
- Comunica√ß√£o criptografada (HTTPS)
- Backup regular recomendado

---

# üìû Suporte

Se voc√™ encontrar problemas ou tiver d√∫vidas:

1. **Verifique esta documenta√ß√£o** primeiro
2. **Tente usar a busca** para encontrar informa√ß√µes
3. **Entre em contato com o suporte** se o problema persistir

**Lembre-se**: Esta documenta√ß√£o √© seu guia completo. Consulte-a sempre que tiver d√∫vidas!

---

_√öltima atualiza√ß√£o: Outubro 2025_
`;

export default function DocumentationPage() {
  const [activeSection, setActiveSection] = useState('dashboard');

  const sections = [
    { id: 'dashboard', title: 'üìä Dashboard' },
    { id: 'clientes', title: 'üë• Clientes' },
    { id: 'colaboradores', title: 'üë∑ Colaboradores' },
    { id: 'acoes', title: 'üéØ A√ß√µes' },
    { id: 'contas-receber', title: 'üí∞ Contas a Receber' },
    { id: 'contas-pagar', title: 'üí∏ Contas a Pagar' },
    { id: 'fluxo', title: 'üîÑ Fluxo de Trabalho' },
    { id: 'dicas', title: 'üí° Dicas' },
    { id: 'faq', title: '‚ùì FAQ' },
    { id: 'seguranca', title: 'üîê Seguran√ßa' },
  ];

  const handleSectionClick = (sectionId) => {
    setActiveSection(sectionId);
    const element = document.getElementById(sectionId);
    if (element) {
      element.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  };

  // Custom components for ReactMarkdown to add IDs to headings
  const components = {
    h1: ({ children, ...props }) => {
      const text = children?.toString() || '';
      // Map heading text to section IDs
      const idMap = {
        'üìä Dashboard': 'dashboard',
        'üë• Clientes': 'clientes',
        'üë∑ Colaboradores': 'colaboradores',
        'üéØ A√ß√µes': 'acoes',
        'üí∞ Contas a Receber': 'contas-receber',
        'üí∏ Contas a Pagar': 'contas-pagar',
        'üîÑ Fluxo de Trabalho Recomendado': 'fluxo',
        'üí° Dicas e Boas Pr√°ticas': 'dicas',
        '‚ùì Perguntas Frequentes': 'faq',
        'üîê Seguran√ßa e Permiss√µes': 'seguranca',
      };
      const id = idMap[text];
      return <h1 id={id} {...props}>{children}</h1>;
    }
  };

  return (
    <Container>
      <Header>
        <Title>üìö Documenta√ß√£o</Title>
        <Subtitle>Guia completo de administra√ß√£o do Sistema Ana</Subtitle>
      </Header>

      <ContentWrapper>
        <SidebarWrapper>
          <Sidebar>
            <SidebarTitle>Navega√ß√£o</SidebarTitle>
            {sections.map(section => (
              <SidebarLink
                key={section.id}
                href={`#${section.id}`}
                $active={activeSection === section.id}
                onClick={(e) => {
                  e.preventDefault();
                  handleSectionClick(section.id);
                }}
              >
                {section.title}
              </SidebarLink>
            ))}
          </Sidebar>
        </SidebarWrapper>

        <Content>
          <ReactMarkdown components={components}>{DOCUMENTATION}</ReactMarkdown>
        </Content>
      </ContentWrapper>
    </Container>
  );
}
