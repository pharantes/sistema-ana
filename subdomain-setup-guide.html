<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Subdomain Setup Guide - Sistema Ana on Vercel</title>
  <style>
    @page {
      size: A4;
      margin: 20mm
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #1a1a1a;
      margin: 0;
      line-height: 1.6
    }

    .page {
      max-width: 800px;
      margin: 0 auto;
      background: #fff;
      padding: 32px
    }

    h1 {
      color: #0070f3;
      border-bottom: 3px solid #0070f3;
      padding-bottom: 12px;
      margin-bottom: 24px;
      font-size: 28px
    }

    h2 {
      color: #0070f3;
      margin-top: 32px;
      margin-bottom: 16px;
      font-size: 20px;
      border-left: 4px solid #0070f3;
      padding-left: 12px
    }

    h3 {
      color: #333;
      margin-top: 24px;
      margin-bottom: 12px;
      font-size: 16px
    }

    .info-box {
      background: #e6f7ff;
      border-left: 4px solid #1890ff;
      padding: 16px;
      margin: 16px 0;
      border-radius: 4px
    }

    .warning-box {
      background: #fff7e6;
      border-left: 4px solid #faad14;
      padding: 16px;
      margin: 16px 0;
      border-radius: 4px
    }

    .success-box {
      background: #f6ffed;
      border-left: 4px solid #52c41a;
      padding: 16px;
      margin: 16px 0;
      border-radius: 4px
    }

    .step {
      background: #fafafa;
      border: 1px solid #d9d9d9;
      border-radius: 6px;
      padding: 16px;
      margin: 16px 0
    }

    .step-number {
      background: #0070f3;
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      margin-right: 12px
    }

    .code {
      background: #f5f5f5;
      border: 1px solid #d9d9d9;
      padding: 12px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      margin: 8px 0;
      overflow-x: auto
    }

    .highlight {
      background: #fff566;
      padding: 2px 4px;
      font-weight: 500
    }

    ul {
      margin: 8px 0
    }

    li {
      margin: 6px 0
    }

    strong {
      color: #0070f3
    }

    .divider {
      border-top: 2px dashed #d9d9d9;
      margin: 24px 0
    }

    .field-name {
      color: #cf1322;
      font-family: monospace;
      font-weight: 600
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0
    }

    th,
    td {
      border: 1px solid #d9d9d9;
      padding: 10px;
      text-align: left
    }

    th {
      background: #fafafa;
      font-weight: 600
    }

    .footer {
      margin-top: 32px;
      padding-top: 16px;
      border-top: 2px solid #d9d9d9;
      font-size: 13px;
      color: #666;
      text-align: center
    }
  </style>
</head>

<body>
  <div class="page">
    <h1>üöÄ Subdomain Setup Guide</h1>
    <p><strong>Connecting Sistema Ana (Vercel) to Client's Domain via Subdomain</strong></p>

    <div class="info-box">
      <strong>üìã What This Guide Covers:</strong><br>
      How to create a subdomain in cPanel and point it to your Sistema Ana application hosted on Vercel using the
      recommended CNAME method.
    </div>

    <div class="success-box">
      <strong>‚úÖ Method Used:</strong> CNAME Record (Recommended)<br>
      <strong>‚è±Ô∏è Estimated Time:</strong> 15-30 minutes (including DNS propagation)<br>
      <strong>üéØ Result:</strong> <span class="highlight">app.clientdomain.com</span> ‚Üí Sistema Ana on Vercel
    </div>

    <div class="divider"></div>

    <h2>Part 1: Create Subdomain in cPanel</h2>

    <div class="step">
      <div><span class="step-number">1</span><strong>Access cPanel</strong></div>
      <ul>
        <li>Open your browser and navigate to your client's cPanel login page</li>
        <li>Common URLs:
          <div class="code">
            https://clientdomain.com:2083<br>https://cpanel.clientdomain.com<br>https://hostingprovider.com/cpanel</div>
        </li>
        <li>Log in with cPanel credentials (ask client or hosting provider)</li>
      </ul>
    </div>

    <div class="step">
      <div><span class="step-number">2</span><strong>Navigate to Subdomains Section</strong></div>
      <ul>
        <li>In the cPanel dashboard, scroll to the <strong>"Domains"</strong> section</li>
        <li>Click on <strong>"Subdomains"</strong> icon</li>
        <li>Alternative: Use the search bar at top and type "subdomain"</li>
      </ul>
    </div>

    <div class="step">
      <div><span class="step-number">3</span><strong>Create the Subdomain</strong></div>
      <ul>
        <li>In the <span class="field-name">Subdomain</span> field, enter: <span class="highlight">app</span> (or your
          preferred name: sistema, portal, etc.)</li>
        <li>In the <span class="field-name">Domain</span> dropdown, select: <strong>clientdomain.com</strong></li>
        <li>The <span class="field-name">Document Root</span> will auto-fill (e.g., /public_html/app) ‚Äî leave it as is
        </li>
        <li>Click the <strong>"Create"</strong> button</li>
      </ul>
      <div class="success-box" style="margin-top:12px">
        ‚úÖ You should see a success message: "Subdomain app.clientdomain.com has been created"
      </div>
    </div>

    <div class="divider"></div>

    <h2>Part 2: Configure DNS with CNAME Record</h2>

    <div class="step">
      <div><span class="step-number">4</span><strong>Access DNS Zone Editor</strong></div>
      <ul>
        <li>Still in cPanel, scroll to the <strong>"Domains"</strong> section</li>
        <li>Click on <strong>"Zone Editor"</strong> or <strong>"Advanced DNS Zone Editor"</strong></li>
        <li>Find your domain <strong>clientdomain.com</strong> in the list</li>
        <li>Click <strong>"Manage"</strong> or <strong>"+ Add Record"</strong> button</li>
      </ul>
    </div>

    <div class="step">
      <div><span class="step-number">5</span><strong>Add CNAME Record</strong></div>
      <p>Fill in the DNS record form with these exact values:</p>
      <table>
        <tr>
          <th>Field</th>
          <th>Value</th>
          <th>Notes</th>
        </tr>
        <tr>
          <td><span class="field-name">Type</span></td>
          <td><strong>CNAME</strong></td>
          <td>Select from dropdown</td>
        </tr>
        <tr>
          <td><span class="field-name">Name</span></td>
          <td><strong>app</strong></td>
          <td>Your subdomain prefix (without the domain)</td>
        </tr>
        <tr>
          <td><span class="field-name">Record / Points to / Target</span></td>
          <td><strong>cname.vercel-dns.com.</strong></td>
          <td>‚ö†Ô∏è Include the trailing dot (.)</td>
        </tr>
        <tr>
          <td><span class="field-name">TTL</span></td>
          <td><strong>14400</strong></td>
          <td>Or leave default (often 3600 or 14400)</td>
        </tr>
      </table>
      <div class="warning-box" style="margin-top:12px">
        <strong>‚ö†Ô∏è Important:</strong> The CNAME target must be <span class="highlight">cname.vercel-dns.com.</span>
        with a trailing dot. Some cPanel versions add it automatically, others require you to type it.
      </div>
      <ul>
        <li>Click <strong>"Add Record"</strong> or <strong>"Save"</strong></li>
        <li>Verify the record appears in the DNS zone list</li>
      </ul>
    </div>

    <div class="step">
      <div><span class="step-number">6</span><strong>Remove Conflicting Records (If Any)</strong></div>
      <ul>
        <li>Check if there's an existing <strong>A record</strong> for <span class="field-name">app</span></li>
        <li>If found, <strong>delete it</strong> (you can't have both CNAME and A for same subdomain)</li>
        <li>Keep only the CNAME record you just created</li>
      </ul>
    </div>

    <div class="divider"></div>

    <h2>Part 3: Configure Domain in Vercel</h2>

    <div class="step">
      <div><span class="step-number">7</span><strong>Add Domain in Vercel Dashboard</strong></div>
      <ul>
        <li>Go to <a href="https://vercel.com/dashboard">https://vercel.com/dashboard</a></li>
        <li>Select your <strong>Sistema Ana</strong> project</li>
        <li>Click <strong>Settings</strong> tab</li>
        <li>Click <strong>Domains</strong> in left sidebar</li>
        <li>Click <strong>"Add"</strong> or <strong>"Add Domain"</strong> button</li>
        <li>Enter: <span class="highlight">app.clientdomain.com</span></li>
        <li>Click <strong>"Add"</strong></li>
      </ul>
    </div>

    <div class="step">
      <div><span class="step-number">8</span><strong>Wait for Verification</strong></div>
      <ul>
        <li>Vercel will automatically check the DNS records</li>
        <li>Initial status may show: <strong>"Invalid Configuration"</strong> or <strong>"Pending"</strong></li>
        <li>Wait 5-30 minutes for DNS propagation</li>
        <li>Vercel checks every few minutes and will auto-update</li>
        <li>Click <strong>"Refresh"</strong> button to manually check</li>
      </ul>
      <div class="success-box" style="margin-top:12px">
        ‚úÖ When successful, status will change to <strong>"Valid Configuration"</strong> and SSL certificate will be
        provisioned automatically.
      </div>
    </div>

    <div class="divider"></div>

    <h2>Part 4: Update Environment Variables</h2>

    <div class="step">
      <div><span class="step-number">9</span><strong>Update NEXTAUTH_URL</strong></div>
      <ul>
        <li>Still in Vercel project settings, click <strong>Environment Variables</strong></li>
        <li>Find <span class="field-name">NEXTAUTH_URL</span> variable</li>
        <li>Click <strong>Edit</strong> (pencil icon)</li>
        <li>Update value to: <span class="highlight">https://app.clientdomain.com</span></li>
        <li>‚ö†Ô∏è <strong>No trailing slash!</strong></li>
        <li>Ensure it's set for <strong>Production</strong> environment</li>
        <li>Click <strong>Save</strong></li>
      </ul>
    </div>

    <div class="step">
      <div><span class="step-number">10</span><strong>Redeploy Application</strong></div>
      <ul>
        <li>Go to <strong>Deployments</strong> tab</li>
        <li>Find the most recent deployment</li>
        <li>Click the <strong>three dots (...)</strong> menu</li>
        <li>Click <strong>"Redeploy"</strong></li>
        <li>Check <strong>"Use existing Build Cache"</strong> for faster deployment</li>
        <li>Click <strong>"Redeploy"</strong> to confirm</li>
        <li>Wait for deployment to complete (usually 1-2 minutes)</li>
      </ul>
    </div>

    <div class="divider"></div>

    <h2>Part 5: Verification & Testing</h2>

    <div class="step">
      <div><span class="step-number">11</span><strong>Check DNS Propagation</strong></div>
      <p>Use these tools to verify DNS is working globally:</p>
      <ul>
        <li><strong>Online Tool:</strong> Visit <a href="https://dnschecker.org">https://dnschecker.org</a></li>
        <li>Enter: <span class="highlight">app.clientdomain.com</span></li>
        <li>Check that CNAME points to <strong>cname.vercel-dns.com</strong></li>
        <li>Green checkmarks worldwide = DNS propagated successfully</li>
      </ul>
      <p><strong>Command Line (Optional):</strong></p>
      <div class="code">nslookup app.clientdomain.com<br># Should show: app.clientdomain.com canonical name =
        cname.vercel-dns.com</div>
    </div>

    <div class="step">
      <div><span class="step-number">12</span><strong>Test the Application</strong></div>
      <ul>
        <li>Open browser and navigate to: <span class="highlight">https://app.clientdomain.com</span></li>
        <li>Verify SSL certificate is valid (üîí padlock icon in browser)</li>
        <li>Test login functionality</li>
        <li>Verify authentication redirects work correctly</li>
        <li>Check that all pages load properly</li>
      </ul>
      <div class="success-box" style="margin-top:12px">
        ‚úÖ <strong>Success!</strong> Your Sistema Ana application is now live at the client's subdomain with automatic
        SSL.
      </div>
    </div>

    <div class="divider"></div>

    <h2>Troubleshooting Common Issues</h2>

    <div class="warning-box">
      <h3 style="margin-top:0">‚ùå "Invalid DNS Configuration" in Vercel</h3>
      <ul>
        <li><strong>Wait:</strong> DNS propagation can take up to 48 hours (usually 15-30 minutes)</li>
        <li><strong>Check CNAME:</strong> Verify it points to <span class="highlight">cname.vercel-dns.com.</span> (with
          dot)</li>
        <li><strong>Remove A records:</strong> Delete any conflicting A records for the subdomain</li>
        <li><strong>Refresh:</strong> Click "Refresh" button in Vercel after 10-15 minutes</li>
      </ul>
    </div>

    <div class="warning-box">
      <h3 style="margin-top:0">‚ùå SSL Certificate Not Generating</h3>
      <ul>
        <li><strong>Wait:</strong> SSL can take up to 24 hours to provision</li>
        <li><strong>Verify DNS:</strong> Ensure CNAME is correctly configured</li>
        <li><strong>Check Status:</strong> Visit <a href="https://vercel-status.com">vercel-status.com</a> for service
          issues</li>
        <li><strong>Remove & Re-add:</strong> As last resort, remove domain from Vercel and add again</li>
      </ul>
    </div>

    <div class="warning-box">
      <h3 style="margin-top:0">‚ùå Login/Redirect Errors After Setup</h3>
      <ul>
        <li><strong>Check NEXTAUTH_URL:</strong> Must exactly match <span
            class="highlight">https://app.clientdomain.com</span></li>
        <li><strong>No trailing slash:</strong> Remove any trailing / from the URL</li>
        <li><strong>Redeploy:</strong> Environment variable changes require a redeploy</li>
        <li><strong>Clear cookies:</strong> Clear browser cookies for the domain and try again</li>
      </ul>
    </div>

    <div class="warning-box">
      <h3 style="margin-top:0">‚ùå "This site can't be reached"</h3>
      <ul>
        <li><strong>DNS not propagated:</strong> Wait longer and check <a
            href="https://dnschecker.org">dnschecker.org</a></li>
        <li><strong>Wrong CNAME:</strong> Double-check it's <span class="highlight">cname.vercel-dns.com.</span></li>
        <li><strong>Subdomain not created:</strong> Verify subdomain exists in cPanel Subdomains section</li>
      </ul>
    </div>

    <div class="divider"></div>

    <h2>Quick Reference Checklist</h2>

    <div class="info-box">
      <strong>‚úÖ Pre-Setup Checklist:</strong>
      <ul style="margin-bottom:0">
        <li>‚òê Have cPanel login credentials</li>
        <li>‚òê Have Vercel account access to Sistema Ana project</li>
        <li>‚òê Decided on subdomain name (e.g., app, sistema, portal)</li>
      </ul>
    </div>

    <div class="info-box">
      <strong>‚úÖ Configuration Checklist:</strong>
      <ul style="margin-bottom:0">
        <li>‚òê Subdomain created in cPanel</li>
        <li>‚òê CNAME record added: app ‚Üí cname.vercel-dns.com.</li>
        <li>‚òê No conflicting A records exist</li>
        <li>‚òê Domain added in Vercel (app.clientdomain.com)</li>
        <li>‚òê NEXTAUTH_URL updated to https://app.clientdomain.com</li>
        <li>‚òê Application redeployed in Vercel</li>
      </ul>
    </div>

    <div class="info-box">
      <strong>‚úÖ Verification Checklist:</strong>
      <ul style="margin-bottom:0">
        <li>‚òê DNS propagation confirmed (dnschecker.org shows green)</li>
        <li>‚òê Domain shows "Valid Configuration" in Vercel</li>
        <li>‚òê SSL certificate provisioned (üîí in browser)</li>
        <li>‚òê Website loads at https://app.clientdomain.com</li>
        <li>‚òê Login functionality works correctly</li>
      </ul>
    </div>

    <div class="divider"></div>

    <h2>Important Notes</h2>

    <div class="info-box">
      <p><strong>üïê Timeline Expectations:</strong></p>
      <ul>
        <li>DNS propagation: 15-30 minutes (can be up to 48 hours)</li>
        <li>SSL certificate: 5-60 minutes after DNS resolves</li>
        <li>Total setup time: Usually 30-45 minutes including waiting</li>
      </ul>
    </div>

    <div class="success-box">
      <p><strong>‚ú® Why CNAME Method is Recommended:</strong></p>
      <ul style="margin-bottom:0">
        <li>Vercel can update their infrastructure without requiring DNS changes from you</li>
        <li>Automatic SSL certificate management and renewal</li>
        <li>Better redundancy and global CDN routing</li>
        <li>Industry standard for pointing subdomains to external services</li>
      </ul>
    </div>

    <div class="divider"></div>

    <div class="footer">
      <strong>Sistema Ana - Subdomain Setup Guide</strong><br>
      Generated: December 15, 2025<br>
      For questions or issues, refer to <a href="https://vercel.com/docs/concepts/projects/domains">Vercel Domains
        Documentation</a>
    </div>
  </div>
</body>

</html>